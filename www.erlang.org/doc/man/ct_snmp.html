<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- ct_snmp</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../../../doc/js/erlresolvelinks.js"></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small>
<a href="../apps/common_test/users_guide.html">User's Guide</a><br>
<a href="../apps/common_test/index.html">Reference Manual</a><br>
<a href="../apps/common_test/release_notes.html">Release Notes</a><br>
<a href="../apps/common_test/common_test.pdf">PDF</a><br>
<a href="../index.html">Top</a></small><p><strong>Common Test</strong><br><strong>Reference Manual</strong><br><small>Version 1.4.6</small></p>
<br>
<a href="javascript:openAllFlips()">Expand All</a><br>
<a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li title="common_test " expanded="false">common_test<ul>
<li>
<a href="common_test.html">
                  Top of manual page
                </a></li>
<li title="Module:all-0">
<a href="common_test.html#Module:all-0">Module:all/0</a></li>
<li title="Module:groups-0">
<a href="common_test.html#Module:groups-0">Module:groups/0</a></li>
<li title="Module:suite-0">
<a href="common_test.html#Module:suite-0">Module:suite/0</a></li>
<li title="Module:init_per_suite-1">
<a href="common_test.html#Module:init_per_suite-1">Module:init_per_suite/1</a></li>
<li title="Module:end_per_suite-1">
<a href="common_test.html#Module:end_per_suite-1">Module:end_per_suite/1</a></li>
<li title="Module:init_per_group-2">
<a href="common_test.html#Module:init_per_group-2">Module:init_per_group/2</a></li>
<li title="Module:end_per_group-2">
<a href="common_test.html#Module:end_per_group-2">Module:end_per_group/2</a></li>
<li title="Module:init_per_testcase-2">
<a href="common_test.html#Module:init_per_testcase-2">Module:init_per_testcase/2</a></li>
<li title="Module:end_per_testcase-2">
<a href="common_test.html#Module:end_per_testcase-2">Module:end_per_testcase/2</a></li>
<li title="Module:testcase-0">
<a href="common_test.html#Module:testcase-0">Module:testcase/0</a></li>
<li title="Module:testcase-1">
<a href="common_test.html#Module:testcase-1">Module:testcase/1</a></li>
</ul>
</li>
<li title="run_test">
<a href="run_test.html">run_test</a></li>
<li title="ct " expanded="false">ct<ul>
<li>
<a href="ct.html">
                  Top of manual page
                </a></li>
<li title="abort_current_testcase-1">
<a href="ct.html#abort_current_testcase-1">abort_current_testcase/1</a></li>
<li title="comment-1">
<a href="ct.html#comment-1">comment/1</a></li>
<li title="decrypt_config_file-2">
<a href="ct.html#decrypt_config_file-2">decrypt_config_file/2</a></li>
<li title="decrypt_config_file-3">
<a href="ct.html#decrypt_config_file-3">decrypt_config_file/3</a></li>
<li title="encrypt_config_file-2">
<a href="ct.html#encrypt_config_file-2">encrypt_config_file/2</a></li>
<li title="encrypt_config_file-3">
<a href="ct.html#encrypt_config_file-3">encrypt_config_file/3</a></li>
<li title="fail-1">
<a href="ct.html#fail-1">fail/1</a></li>
<li title="get_config-1">
<a href="ct.html#get_config-1">get_config/1</a></li>
<li title="get_config-2">
<a href="ct.html#get_config-2">get_config/2</a></li>
<li title="get_config-3">
<a href="ct.html#get_config-3">get_config/3</a></li>
<li title="get_status-0">
<a href="ct.html#get_status-0">get_status/0</a></li>
<li title="get_target_name-1">
<a href="ct.html#get_target_name-1">get_target_name/1</a></li>
<li title="install-1">
<a href="ct.html#install-1">install/1</a></li>
<li title="listenv-1">
<a href="ct.html#listenv-1">listenv/1</a></li>
<li title="log-1">
<a href="ct.html#log-1">log/1</a></li>
<li title="log-2">
<a href="ct.html#log-2">log/2</a></li>
<li title="log-3">
<a href="ct.html#log-3">log/3</a></li>
<li title="pal-1">
<a href="ct.html#pal-1">pal/1</a></li>
<li title="pal-2">
<a href="ct.html#pal-2">pal/2</a></li>
<li title="pal-3">
<a href="ct.html#pal-3">pal/3</a></li>
<li title="parse_table-1">
<a href="ct.html#parse_table-1">parse_table/1</a></li>
<li title="print-1">
<a href="ct.html#print-1">print/1</a></li>
<li title="print-2">
<a href="ct.html#print-2">print/2</a></li>
<li title="print-3">
<a href="ct.html#print-3">print/3</a></li>
<li title="require-1">
<a href="ct.html#require-1">require/1</a></li>
<li title="require-2">
<a href="ct.html#require-2">require/2</a></li>
<li title="run-1">
<a href="ct.html#run-1">run/1</a></li>
<li title="run-2">
<a href="ct.html#run-2">run/2</a></li>
<li title="run-3">
<a href="ct.html#run-3">run/3</a></li>
<li title="run_test-1">
<a href="ct.html#run_test-1">run_test/1</a></li>
<li title="run_testspec-1">
<a href="ct.html#run_testspec-1">run_testspec/1</a></li>
<li title="start_interactive-0">
<a href="ct.html#start_interactive-0">start_interactive/0</a></li>
<li title="step-3">
<a href="ct.html#step-3">step/3</a></li>
<li title="step-4">
<a href="ct.html#step-4">step/4</a></li>
<li title="stop_interactive-0">
<a href="ct.html#stop_interactive-0">stop_interactive/0</a></li>
<li title="testcases-2">
<a href="ct.html#testcases-2">testcases/2</a></li>
<li title="userdata-2">
<a href="ct.html#userdata-2">userdata/2</a></li>
<li title="userdata-3">
<a href="ct.html#userdata-3">userdata/3</a></li>
</ul>
</li>
<li title="ct_master " expanded="false">ct_master<ul>
<li>
<a href="ct_master.html">
                  Top of manual page
                </a></li>
<li title="abort-0">
<a href="ct_master.html#abort-0">abort/0</a></li>
<li title="abort-1">
<a href="ct_master.html#abort-1">abort/1</a></li>
<li title="progress-0">
<a href="ct_master.html#progress-0">progress/0</a></li>
<li title="run-1">
<a href="ct_master.html#run-1">run/1</a></li>
<li title="run-3">
<a href="ct_master.html#run-3">run/3</a></li>
<li title="run-4">
<a href="ct_master.html#run-4">run/4</a></li>
<li title="run_on_node-2">
<a href="ct_master.html#run_on_node-2">run_on_node/2</a></li>
<li title="run_on_node-3">
<a href="ct_master.html#run_on_node-3">run_on_node/3</a></li>
<li title="run_test-2">
<a href="ct_master.html#run_test-2">run_test/2</a></li>
</ul>
</li>
<li title="ct_cover " expanded="false">ct_cover<ul>
<li>
<a href="ct_cover.html">
                  Top of manual page
                </a></li>
<li title="add_nodes-1">
<a href="ct_cover.html#add_nodes-1">add_nodes/1</a></li>
<li title="remove_nodes-1">
<a href="ct_cover.html#remove_nodes-1">remove_nodes/1</a></li>
</ul>
</li>
<li title="ct_ftp " expanded="false">ct_ftp<ul>
<li>
<a href="ct_ftp.html">
                  Top of manual page
                </a></li>
<li title="cd-2">
<a href="ct_ftp.html#cd-2">cd/2</a></li>
<li title="close-1">
<a href="ct_ftp.html#close-1">close/1</a></li>
<li title="delete-2">
<a href="ct_ftp.html#delete-2">delete/2</a></li>
<li title="get-3">
<a href="ct_ftp.html#get-3">get/3</a></li>
<li title="ls-2">
<a href="ct_ftp.html#ls-2">ls/2</a></li>
<li title="open-1">
<a href="ct_ftp.html#open-1">open/1</a></li>
<li title="put-3">
<a href="ct_ftp.html#put-3">put/3</a></li>
<li title="recv-2">
<a href="ct_ftp.html#recv-2">recv/2</a></li>
<li title="recv-3">
<a href="ct_ftp.html#recv-3">recv/3</a></li>
<li title="send-2">
<a href="ct_ftp.html#send-2">send/2</a></li>
<li title="send-3">
<a href="ct_ftp.html#send-3">send/3</a></li>
<li title="type-2">
<a href="ct_ftp.html#type-2">type/2</a></li>
</ul>
</li>
<li title="ct_ssh " expanded="false">ct_ssh<ul>
<li>
<a href="ct_ssh.html">
                  Top of manual page
                </a></li>
<li title="apread-4">
<a href="ct_ssh.html#apread-4">apread/4</a></li>
<li title="apread-5">
<a href="ct_ssh.html#apread-5">apread/5</a></li>
<li title="apwrite-4">
<a href="ct_ssh.html#apwrite-4">apwrite/4</a></li>
<li title="apwrite-5">
<a href="ct_ssh.html#apwrite-5">apwrite/5</a></li>
<li title="aread-3">
<a href="ct_ssh.html#aread-3">aread/3</a></li>
<li title="aread-4">
<a href="ct_ssh.html#aread-4">aread/4</a></li>
<li title="awrite-3">
<a href="ct_ssh.html#awrite-3">awrite/3</a></li>
<li title="awrite-4">
<a href="ct_ssh.html#awrite-4">awrite/4</a></li>
<li title="close-2">
<a href="ct_ssh.html#close-2">close/2</a></li>
<li title="close-3">
<a href="ct_ssh.html#close-3">close/3</a></li>
<li title="connect-1">
<a href="ct_ssh.html#connect-1">connect/1</a></li>
<li title="connect-2">
<a href="ct_ssh.html#connect-2">connect/2</a></li>
<li title="connect-3">
<a href="ct_ssh.html#connect-3">connect/3</a></li>
<li title="del_dir-2">
<a href="ct_ssh.html#del_dir-2">del_dir/2</a></li>
<li title="del_dir-3">
<a href="ct_ssh.html#del_dir-3">del_dir/3</a></li>
<li title="delete-2">
<a href="ct_ssh.html#delete-2">delete/2</a></li>
<li title="delete-3">
<a href="ct_ssh.html#delete-3">delete/3</a></li>
<li title="disconnect-1">
<a href="ct_ssh.html#disconnect-1">disconnect/1</a></li>
<li title="exec-2">
<a href="ct_ssh.html#exec-2">exec/2</a></li>
<li title="exec-3">
<a href="ct_ssh.html#exec-3">exec/3</a></li>
<li title="exec-4">
<a href="ct_ssh.html#exec-4">exec/4</a></li>
<li title="get_file_info-2">
<a href="ct_ssh.html#get_file_info-2">get_file_info/2</a></li>
<li title="get_file_info-3">
<a href="ct_ssh.html#get_file_info-3">get_file_info/3</a></li>
<li title="list_dir-2">
<a href="ct_ssh.html#list_dir-2">list_dir/2</a></li>
<li title="list_dir-3">
<a href="ct_ssh.html#list_dir-3">list_dir/3</a></li>
<li title="make_dir-2">
<a href="ct_ssh.html#make_dir-2">make_dir/2</a></li>
<li title="make_dir-3">
<a href="ct_ssh.html#make_dir-3">make_dir/3</a></li>
<li title="make_symlink-3">
<a href="ct_ssh.html#make_symlink-3">make_symlink/3</a></li>
<li title="make_symlink-4">
<a href="ct_ssh.html#make_symlink-4">make_symlink/4</a></li>
<li title="open-3">
<a href="ct_ssh.html#open-3">open/3</a></li>
<li title="open-4">
<a href="ct_ssh.html#open-4">open/4</a></li>
<li title="opendir-2">
<a href="ct_ssh.html#opendir-2">opendir/2</a></li>
<li title="opendir-3">
<a href="ct_ssh.html#opendir-3">opendir/3</a></li>
<li title="position-3">
<a href="ct_ssh.html#position-3">position/3</a></li>
<li title="position-4">
<a href="ct_ssh.html#position-4">position/4</a></li>
<li title="pread-4">
<a href="ct_ssh.html#pread-4">pread/4</a></li>
<li title="pread-5">
<a href="ct_ssh.html#pread-5">pread/5</a></li>
<li title="pwrite-4">
<a href="ct_ssh.html#pwrite-4">pwrite/4</a></li>
<li title="pwrite-5">
<a href="ct_ssh.html#pwrite-5">pwrite/5</a></li>
<li title="read-3">
<a href="ct_ssh.html#read-3">read/3</a></li>
<li title="read-4">
<a href="ct_ssh.html#read-4">read/4</a></li>
<li title="read_file-2">
<a href="ct_ssh.html#read_file-2">read_file/2</a></li>
<li title="read_file-3">
<a href="ct_ssh.html#read_file-3">read_file/3</a></li>
<li title="read_file_info-2">
<a href="ct_ssh.html#read_file_info-2">read_file_info/2</a></li>
<li title="read_file_info-3">
<a href="ct_ssh.html#read_file_info-3">read_file_info/3</a></li>
<li title="read_link-2">
<a href="ct_ssh.html#read_link-2">read_link/2</a></li>
<li title="read_link-3">
<a href="ct_ssh.html#read_link-3">read_link/3</a></li>
<li title="read_link_info-2">
<a href="ct_ssh.html#read_link_info-2">read_link_info/2</a></li>
<li title="read_link_info-3">
<a href="ct_ssh.html#read_link_info-3">read_link_info/3</a></li>
<li title="receive_response-2">
<a href="ct_ssh.html#receive_response-2">receive_response/2</a></li>
<li title="receive_response-3">
<a href="ct_ssh.html#receive_response-3">receive_response/3</a></li>
<li title="receive_response-4">
<a href="ct_ssh.html#receive_response-4">receive_response/4</a></li>
<li title="rename-3">
<a href="ct_ssh.html#rename-3">rename/3</a></li>
<li title="rename-4">
<a href="ct_ssh.html#rename-4">rename/4</a></li>
<li title="send-3">
<a href="ct_ssh.html#send-3">send/3</a></li>
<li title="send-4">
<a href="ct_ssh.html#send-4">send/4</a></li>
<li title="send-5">
<a href="ct_ssh.html#send-5">send/5</a></li>
<li title="send_and_receive-3">
<a href="ct_ssh.html#send_and_receive-3">send_and_receive/3</a></li>
<li title="send_and_receive-4">
<a href="ct_ssh.html#send_and_receive-4">send_and_receive/4</a></li>
<li title="send_and_receive-5">
<a href="ct_ssh.html#send_and_receive-5">send_and_receive/5</a></li>
<li title="send_and_receive-6">
<a href="ct_ssh.html#send_and_receive-6">send_and_receive/6</a></li>
<li title="session_close-2">
<a href="ct_ssh.html#session_close-2">session_close/2</a></li>
<li title="session_open-1">
<a href="ct_ssh.html#session_open-1">session_open/1</a></li>
<li title="session_open-2">
<a href="ct_ssh.html#session_open-2">session_open/2</a></li>
<li title="sftp_connect-1">
<a href="ct_ssh.html#sftp_connect-1">sftp_connect/1</a></li>
<li title="subsystem-3">
<a href="ct_ssh.html#subsystem-3">subsystem/3</a></li>
<li title="subsystem-4">
<a href="ct_ssh.html#subsystem-4">subsystem/4</a></li>
<li title="write-3">
<a href="ct_ssh.html#write-3">write/3</a></li>
<li title="write-4">
<a href="ct_ssh.html#write-4">write/4</a></li>
<li title="write_file-3">
<a href="ct_ssh.html#write_file-3">write_file/3</a></li>
<li title="write_file-4">
<a href="ct_ssh.html#write_file-4">write_file/4</a></li>
<li title="write_file_info-3">
<a href="ct_ssh.html#write_file_info-3">write_file_info/3</a></li>
<li title="write_file_info-4">
<a href="ct_ssh.html#write_file_info-4">write_file_info/4</a></li>
</ul>
</li>
<li title="ct_rpc " expanded="false">ct_rpc<ul>
<li>
<a href="ct_rpc.html">
                  Top of manual page
                </a></li>
<li title="app_node-2">
<a href="ct_rpc.html#app_node-2">app_node/2</a></li>
<li title="app_node-3">
<a href="ct_rpc.html#app_node-3">app_node/3</a></li>
<li title="app_node-4">
<a href="ct_rpc.html#app_node-4">app_node/4</a></li>
<li title="call-4">
<a href="ct_rpc.html#call-4">call/4</a></li>
<li title="call-5">
<a href="ct_rpc.html#call-5">call/5</a></li>
<li title="call-6">
<a href="ct_rpc.html#call-6">call/6</a></li>
<li title="cast-4">
<a href="ct_rpc.html#cast-4">cast/4</a></li>
<li title="cast-5">
<a href="ct_rpc.html#cast-5">cast/5</a></li>
</ul>
</li>
<li title="ct_snmp " expanded="true">ct_snmp<ul>
<li>
<a href="ct_snmp.html">
                  Top of manual page
                </a></li>
<li title="get_next_values-3">
<a href="ct_snmp.html#get_next_values-3">get_next_values/3</a></li>
<li title="get_values-3">
<a href="ct_snmp.html#get_values-3">get_values/3</a></li>
<li title="load_mibs-1">
<a href="ct_snmp.html#load_mibs-1">load_mibs/1</a></li>
<li title="register_agents-2">
<a href="ct_snmp.html#register_agents-2">register_agents/2</a></li>
<li title="register_users-2">
<a href="ct_snmp.html#register_users-2">register_users/2</a></li>
<li title="register_usm_users-2">
<a href="ct_snmp.html#register_usm_users-2">register_usm_users/2</a></li>
<li title="set_info-1">
<a href="ct_snmp.html#set_info-1">set_info/1</a></li>
<li title="set_values-4">
<a href="ct_snmp.html#set_values-4">set_values/4</a></li>
<li title="start-2">
<a href="ct_snmp.html#start-2">start/2</a></li>
<li title="start-3">
<a href="ct_snmp.html#start-3">start/3</a></li>
<li title="stop-1">
<a href="ct_snmp.html#stop-1">stop/1</a></li>
<li title="unregister_agents-1">
<a href="ct_snmp.html#unregister_agents-1">unregister_agents/1</a></li>
<li title="unregister_users-1">
<a href="ct_snmp.html#unregister_users-1">unregister_users/1</a></li>
<li title="update_usm_users-2">
<a href="ct_snmp.html#update_usm_users-2">update_usm_users/2</a></li>
</ul>
</li>
<li title="ct_telnet " expanded="false">ct_telnet<ul>
<li>
<a href="ct_telnet.html">
                  Top of manual page
                </a></li>
<li title="close-1">
<a href="ct_telnet.html#close-1">close/1</a></li>
<li title="cmd-2">
<a href="ct_telnet.html#cmd-2">cmd/2</a></li>
<li title="cmd-3">
<a href="ct_telnet.html#cmd-3">cmd/3</a></li>
<li title="cmdf-3">
<a href="ct_telnet.html#cmdf-3">cmdf/3</a></li>
<li title="cmdf-4">
<a href="ct_telnet.html#cmdf-4">cmdf/4</a></li>
<li title="cont_log-2">
<a href="ct_telnet.html#cont_log-2">cont_log/2</a></li>
<li title="end_log-0">
<a href="ct_telnet.html#end_log-0">end_log/0</a></li>
<li title="expect-2">
<a href="ct_telnet.html#expect-2">expect/2</a></li>
<li title="expect-3">
<a href="ct_telnet.html#expect-3">expect/3</a></li>
<li title="get_data-1">
<a href="ct_telnet.html#get_data-1">get_data/1</a></li>
<li title="open-1">
<a href="ct_telnet.html#open-1">open/1</a></li>
<li title="open-2">
<a href="ct_telnet.html#open-2">open/2</a></li>
<li title="open-3">
<a href="ct_telnet.html#open-3">open/3</a></li>
<li title="open-4">
<a href="ct_telnet.html#open-4">open/4</a></li>
<li title="send-2">
<a href="ct_telnet.html#send-2">send/2</a></li>
<li title="sendf-3">
<a href="ct_telnet.html#sendf-3">sendf/3</a></li>
</ul>
</li>
<li title="unix_telnet">
<a href="unix_telnet.html">unix_telnet</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>ct_snmp</h1></center>
<h3>MODULE</h3>
<div class="REFBODY">ct_snmp</div>
<h3>MODULE SUMMARY</h3>
<div class="REFBODY">Common Test user interface module for the OTP snmp application.</div>
<h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
<p>Common Test user interface module for the OTP snmp application</p>
  
   <p>The purpose of this module is to make snmp configuration easier for
   the test case writer. Many test cases can use default values for common
   operations and then no snmp configuration files need to be supplied. When
   it is necessary to change particular configuration parameters, a subset
   of the relevant snmp configuration files may be passed to <span class="code">ct_snmp</span>   
by means of Common Test configuration files.   
For more specialized configuration parameters, it is possible to place a   
"simple snmp configuration file" in the test suite data directory.   
To simplify the test suite, Common Test keeps track   
of some of the snmp manager information. This way the test suite doesn't   
have to handle as many input parameters as it would if it had to interface the   
OTP snmp manager directly.</p>
  
   <p> The following snmp manager and agent parameters are configurable: </p>
  
   <div class="example"><pre>
   {snmp,
          %%% Manager config
          [{start_manager, boolean()}    % Optional - default is true
          {users, [{user_name(), [call_back_module(), user_data()]}]}, %% Optional
          {usm_users, [{usm_user_name(), usm_config()}]},%% Optional - snmp v3 only
          % managed_agents is optional
          {managed_agents,[{agent_name(), [user_name(), agent_ip(), agent_port(), [agent_config()]]}]},
          {max_msg_size, integer()},     % Optional - default is 484
          {mgr_port, integer()},         % Optional - default is 5000
          {engine _id, string()},        % Optional - default is "mgrEngine"
  
          %%% Agent config
          {start_agent, boolean()},      % Optional - default is false
          {agent_sysname, string()},     % Optional - default is "ct_test"
          {agent_manager_ip, manager_ip()}, % Optional - default is localhost
          {agent_vsns, list()},          % Optional - default is [v2]
          {agent_trap_udp, integer()},   % Optional - default is 5000
          {agent_udp, integer()},        % Optional - default is 4000
          {agent_notify_type, atom()},   % Optional - default is trap
          {agent_sec_type, sec_type()},  % Optional - default is none
          {agent_passwd, string()},      % Optional - default is ""
          {agent_engine_id, string()},   % Optional - default is "agentEngine"
          {agent_max_msg_size, string()},% Optional - default is 484
  
          %% The following parameters represents the snmp configuration files
          %% context.conf, standard.conf, community.conf, vacm.conf,
          %% usm.conf, notify.conf, target_addr.conf and target_params.conf.
          %% Note all values in agent.conf can be altered by the parametes
          %% above. All these configuration files have default values set
          %% up by the snmp application. These values can be overridden by
          %% suppling a list of valid configuration values or a file located
          %% in the test suites data dir that can produce a list
          %% of valid configuration values if you apply file:consult/1 to the
          %% file.
          {agent_contexts, [term()] | {data_dir_file, rel_path()}}, % Optional
          {agent_community, [term()] | {data_dir_file, rel_path()}},% Optional
          {agent_sysinfo,  [term()] | {data_dir_file, rel_path()}}, % Optional
          {agent_vacm, [term()] | {data_dir_file, rel_path()}},     % Optional
          {agent_usm, [term()] | {data_dir_file, rel_path()}},      % Optional
          {agent_notify_def, [term()] | {data_dir_file, rel_path()}},% Optional
          {agent_target_address_def, [term()] | {data_dir_file, rel_path()}},% Optional
          {agent_target_param_def, [term()] | {data_dir_file, rel_path()}},% Optional
         ]}.
   </pre></div>
  
   <p>The <span class="code">MgrAgentConfName</span> parameter in the functions
   should be a name you allocate in your test suite using a
   <span class="code">require</span> statement.
   Example (where <span class="code">MgrAgentConfName = snmp_mgr_agent</span>):</p>
   <div class="example"><pre> suite() -&gt; [{require, snmp_mgr_agent, snmp}].</pre></div>
   <p>or</p>
   <div class="example"><pre>  ct:require(snmp_mgr_agent, snmp).</pre></div>
  
   <p> Note that Usm users are needed for snmp v3 configuration and are
   not to be confused with users.</p>
  
   <p> Snmp traps, inform and report messages are handled by the
   user callback module. For more information about this see
   the snmp application. </p>
   <p> Note: It is recommended to use the .hrl-files created by the
   Erlang/OTP mib-compiler to define the oids.
   Example for the getting the erlang node name from the erlNodeTable
   in the OTP-MIB:</p>
   <div class="example"><pre>Oid = ?erlNodeEntry ++ [?erlNodeName, 1] </pre></div>
  
   <p>It is also possible to set values for snmp application configuration
   parameters, such as <span class="code">config</span>, <span class="code">server</span>,
   <span class="code">net_if</span>, etc (see the "Configuring the application" chapter in
   the OTP snmp User's Guide for a list of valid parameters and types). This is
   done by defining a configuration data variable on the following form:</p>
   <div class="example"><pre>
   {snmp_app, [{manager, [snmp_app_manager_params()]},
               {agent, [snmp_app_agent_params()]}]}.</pre></div>
  
   <p>A name for the data needs to be allocated in the suite using
   <span class="code">require</span> (see example above), and this name passed as
   the <span class="code">SnmpAppConfName</span> argument to <span class="code">start/3</span>.
   <span class="code">ct_snmp</span> specifies default values for some snmp application
   configuration parameters (such as <span class="code">{verbosity,trace}</span> for the
   <span class="code">config</span> parameter). This set of defaults will be
   merged with the parameters specified by the user, and user values
   override <span class="code">ct_snmp</span> defaults.</p></p></div>
<h3><a name="id2280712">DATA TYPES</a></h3>
<div class="REFBODY">
<a name="types"></a>
<dl>
<dt><strong><span class="code">agent_config() = {Item, Value}</span></strong></dt>
<dd>
<a name="type-agent_config"></a> </dd>
<dt><strong><span class="code">agent_ip() = ip()</span></strong></dt>
<dd>
<a name="type-agent_ip"></a> </dd>
<dt><strong><span class="code">agent_name() = atom()</span></strong></dt>
<dd>
<a name="type-agent_name"></a> </dd>
<dt><strong><span class="code">agent_port() = integer()</span></strong></dt>
<dd>
<a name="type-agent_port"></a> </dd>
<dt><strong><span class="code">call_back_module() = atom()</span></strong></dt>
<dd>
<a name="type-call_back_module"></a> </dd>
<dt><strong><span class="code">error_index() = integer()</span></strong></dt>
<dd>
<a name="type-error_index"></a> </dd>
<dt><strong><span class="code">error_status() = noError | atom()</span></strong></dt>
<dd>
<a name="type-error_status"></a> </dd>
<dt><strong><span class="code">ip() = string() | {integer(), integer(), integer(), integer()}</span></strong></dt>
<dd>
<a name="type-ip"></a> </dd>
<dt><strong><span class="code">manager_ip() = ip()</span></strong></dt>
<dd>
<a name="type-manager_ip"></a> </dd>
<dt><strong><span class="code">oid() = [byte()]</span></strong></dt>
<dd>
<a name="type-oid"></a> </dd>
<dt><strong><span class="code">oids() = [oid()]</span></strong></dt>
<dd>
<a name="type-oids"></a> </dd>
<dt><strong><span class="code">rel_path() = string()</span></strong></dt>
<dd>
<a name="type-rel_path"></a> </dd>
<dt><strong><span class="code">sec_type() = none | minimum | semi</span></strong></dt>
<dd>
<a name="type-sec_type"></a> </dd>
<dt><strong><span class="code">snmp_app_agent_params() = term()</span></strong></dt>
<dd>
<a name="type-snmp_app_agent_params"></a> </dd>
<dt><strong><span class="code">snmp_app_manager_params() = term()</span></strong></dt>
<dd>
<a name="type-snmp_app_manager_params"></a> </dd>
<dt><strong><span class="code">snmpreply() = {error_status(), error_index(), varbinds()}</span></strong></dt>
<dd>
<a name="type-snmpreply"></a> </dd>
<dt><strong><span class="code">user_data() = term()</span></strong></dt>
<dd>
<a name="type-user_data"></a> </dd>
<dt><strong><span class="code">user_name() = atom()</span></strong></dt>
<dd>
<a name="type-user_name"></a> </dd>
<dt><strong><span class="code">usm_config() = string()</span></strong></dt>
<dd>
<a name="type-usm_config"></a> </dd>
<dt><strong><span class="code">usm_user_name() = string()</span></strong></dt>
<dd>
<a name="type-usm_user_name"></a> </dd>
<dt><strong><span class="code">value_type() = o('OBJECT IDENTIFIER') | i('INTEGER') | u('Unsigned32') | g('Unsigned32') | s('OCTET STRING')</span></strong></dt>
<dd>
<a name="type-value_type"></a> </dd>
<dt><strong><span class="code">var_and_val() = {oid(), value_type(), value()}</span></strong></dt>
<dd>
<a name="type-var_and_val"></a> </dd>
<dt><strong><span class="code">varbind() = term()</span></strong></dt>
<dd>
<a name="type-varbind"></a> </dd>
<dt><strong><span class="code">varbinds() = [varbind()]</span></strong></dt>
<dd>
<a name="type-varbinds"></a> </dd>
<dt><strong><span class="code">varsandvals() = [var_and_val()]</span></strong></dt>
<dd>
<a name="type-varsandvals"></a> </dd>
</dl>
</div>
<h3>EXPORTS</h3>
<p><a name="get_next_values-3"><span class="bold_code">get_next_values(Agent, Oids, MgrAgentConfName) -&gt; SnmpReply</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Agent = agent_name()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Oids = oids()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">SnmpReply = snmpreply()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="get_next_values-3"></a>
<p>Issues a synchronous snmp get next request.</p>
</p></div>
<p><a name="get_values-3"><span class="bold_code">get_values(Agent, Oids, MgrAgentConfName) -&gt; SnmpReply</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Agent = agent_name()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Oids = oids()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">SnmpReply = snmpreply()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="get_values-3"></a>
<p>Issues a synchronous snmp get request.</p>
</p></div>
<p><a name="load_mibs-1"><span class="bold_code">load_mibs(Mibs) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Mibs = [MibName]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">MibName = string()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="load_mibs-1"></a>
<p>Load the mibs into the agent 'snmp_master_agent'.</p>
</p></div>
<p><a name="register_agents-2"><span class="bold_code">register_agents(MgrAgentConfName, ManagedAgents) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">ManagedAgents = [agent()]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="register_agents-2"></a>
<p>Explicitly instruct the manager to handle this agent.
   Corresponds to making an entry in agents.conf</p>
</p></div>
<p><a name="register_users-2"><span class="bold_code">register_users(MgrAgentConfName, Users) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Users = [user()]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="register_users-2"></a>
<p>Register the manager entity (=user) responsible for specific agent(s).
   Corresponds to making an entry in users.conf</p>
</p></div>
<p><a name="register_usm_users-2"><span class="bold_code">register_usm_users(MgrAgentConfName, UsmUsers) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">UsmUsers = [usm_user()]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="register_usm_users-2"></a>
<p>Explicitly instruct the manager to handle this USM user.
   Corresponds to making an entry in usm.conf</p>
</p></div>
<p><a name="set_info-1"><span class="bold_code">set_info(Config) -&gt; [{Agent, OldVarsAndVals, NewVarsAndVals}]</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Config = [{Key, Value}]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Agent = agent_name()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">OldVarsAndVals = varsandvals()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">NewVarsAndVals = varsandvals()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="set_info-1"></a>
<p>Returns a list of all successful set requests performed in
   the test case in reverse order. The list contains the involved
   user and agent, the value prior to the set and the new value. This
   is intended to facilitate the clean up in the end_per_testcase
   function i.e. the undoing of the set requests and its possible
   side-effects.</p>
</p></div>
<p><a name="set_values-4"><span class="bold_code">set_values(Agent, VarsAndVals, MgrAgentConfName, Config) -&gt; SnmpReply</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Agent = agent_name()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Oids = oids()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Config = [{Key, Value}]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">SnmpReply = snmpreply()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="set_values-4"></a>
<p>Issues a synchronous snmp set request.</p>
</p></div>
<p><a name="start-2"><span class="bold_code">start(Config, MgrAgentConfName) -&gt; ok</span></a><br></p>
<div class="REFBODY"><p><a name="start-2"></a>
<p>Equivalent to <span class="bold_code">
<a href="#start-3">start(Config, MgrAgentConfName, undefined)</a></span>.</p>
</p></div>
<p><a name="start-3"><span class="bold_code">start(Config, MgrAgentConfName, SnmpAppConfName) -&gt; ok</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Config = [{Key, Value}]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Key = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Value = term()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">SnmpConfName = atom()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="start-3"></a>
<p>Starts an snmp manager and/or agent. In the manager case,
   registrations of users and agents as specified by the configuration
   <span class="code">MgrAgentConfName</span> will be performed. When using snmp
   v3 also so called usm users will be registered. Note that users,
   usm_users and managed agents may also be registered at a later time
   using ct_snmp:register_users/2, ct_snmp:register_agents/2, and
   ct_snmp:register_usm_users/2. The agent started will be
   called <span class="code">snmp_master_agent</span>. Use ct_snmp:load_mibs/1 to load
   mibs into the agent. With <span class="code">SnmpAppConfName</span> it's possible
   to configure the snmp application with parameters such as <span class="code">config</span>,
   <span class="code">mibs</span>, <span class="code">net_if</span>, etc. The values will be merged
   with (and possibly override) default values set by <span class="code">ct_snmp</span>.</p>
</p></div>
<p><a name="stop-1"><span class="bold_code">stop(Config) -&gt; ok</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">Config = [{Key, Value}]</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Key = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Value = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="stop-1"></a>
<p>Stops the snmp manager and/or agent removes all files created.</p>
</p></div>
<p><a name="unregister_agents-1"><span class="bold_code">unregister_agents(MgrAgentConfName) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="unregister_agents-1"></a>
<p> Removes information added when calling register_agents/2.</p>
</p></div>
<p><a name="unregister_users-1"><span class="bold_code">unregister_users(MgrAgentConfName) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="unregister_users-1"></a>
<p>Removes information added when calling register_users/2.</p>
</p></div>
<p><a name="update_usm_users-2"><span class="bold_code">update_usm_users(MgrAgentConfName, UsmUsers) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES">
<span class="bold_code">MgrAgentConfName = atom()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">UsmUsers = usm_users()</span><br>
</div>
<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
</div>
<div class="REFBODY"><p><a name="update_usm_users-2"></a>
<p> Alters information added when calling register_usm_users/2.</p>
</p></div>
 
 </div>
<div class="footer">
<hr>
<p>Copyright Â© 2003-2009 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-3045895-1";
urchinTracker();
</script> 
</body>
</html>
